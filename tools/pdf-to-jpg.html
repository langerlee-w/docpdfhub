<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title data-i18n="tool_tojpg.meta_title">PDF to JPG – DocPDFHub</title>
  <meta name="description" content="Convert PDF pages to JPEG images — fast, free, and local."/>
  <link rel="stylesheet" href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css"/>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet"/>
  <script defer src="/js/i18n.js"></script>
  <style>.gradient{background:linear-gradient(90deg,#d53369 0%,#daae51 100%);}</style>
</head>
<body class="bg-gray-50 text-gray-900" style="font-family:'Source Sans Pro',sans-serif;">
  <!-- Nav -->
  <nav class="w-full bg-white shadow">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="/" class="text-pink-600 font-extrabold text-2xl">DocPDFHub</a>
      <div class="flex items-center gap-2">
        <a href="/" class="hidden md:inline-block text-sm text-gray-600 hover:text-pink-600" data-i18n="nav.home">Home</a>
        <a href="/tools/pdf-merge.html" class="hidden md:inline-block text-sm text-gray-600 hover:text-pink-600" data-i18n="nav.merge">Merge PDF</a>
        <a href="/tools/pdf-split.html" class="hidden md:inline-block text-sm text-gray-600 hover:text-pink-600" data-i18n="nav.split">Split PDF</a>
        <a href="/tools/pdf-compress.html" class="hidden md:inline-block text-sm text-gray-600 hover:text-pink-600" data-i18n="nav.compress">Compress PDF</a>
        <a href="/tools/pdf-to-jpg.html" class="hidden md:inline-block text-sm text-pink-600 font-semibold" data-i18n="nav.tojpg">PDF to JPG</a>
        <span class="mx-2 h-5 w-px bg-gray-200 hidden md:inline-block"></span>
        <button type="button" data-lang-btn="en" class="px-2 py-1 rounded hover:bg-gray-100">EN</button>
        <button type="button" data-lang-btn="zh" class="px-2 py-1 rounded hover:bg-gray-100">中文</button>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="gradient text-white">
    <div class="max-w-4xl mx-auto px-4 py-12">
      <h1 class="text-3xl md:text-4xl font-extrabold" data-i18n="tool_tojpg.title">PDF to JPG</h1>
      <p class="mt-2 text-white text-opacity-90" data-i18n="tool_tojpg.subtitle">Convert every page to high-quality JPEG images. Works locally in your browser.</p>
      <p class="mt-1 text-sm text-white text-opacity-80" data-i18n="common.100_local">100% local in your browser • No upload</p>
    </div>
  </header>

  <!-- Tool Card -->
  <main class="max-w-4xl mx-auto px-4 py-10">
    <div class="bg-white rounded-2xl border shadow p-6">
      <div class="grid gap-4">
        <div class="border-2 border-dashed rounded-xl p-6 text-center">
          <input id="fileInput" type="file" accept="application/pdf" class="hidden"/>
          <p class="text-gray-600" data-i18n="common.drop_hint">Drop files here or</p>
          <button id="chooseBtn" class="mt-3 inline-flex items-center bg-pink-600 text-white font-semibold px-4 py-2 rounded-full hover:bg-pink-700" data-i18n="common.choose_files">Choose Files</button>
        </div>

        <div class="bg-gray-50 rounded-xl p-4 grid md:grid-cols-3 gap-4">
          <div>
            <label class="block text-sm text-gray-700 mb-1" data-i18n="tool_tojpg.dpi">Output DPI</label>
            <select id="dpi" class="w-full border rounded px-3 py-2">
              <option value="72">72</option>
              <option value="150">150</option>
              <option value="300">300</option>
            </select>
          </div>
          <div>
            <label class="block text-sm text-gray-700 mb-1" data-i18n="tool_tojpg.quality">JPEG Quality</label>
            <select id="quality" class="w-full border rounded px-3 py-2">
              <option value="0.6">60%</option>
              <option value="0.8" selected>80%</option>
              <option value="1.0">100%</option>
            </select>
          </div>
          <div>
            <label class="block text-sm text-gray-700 mb-1" data-i18n="tool_tojpg.pages">Pages</label>
            <input id="pages" type="text" class="w-full border rounded px-3 py-2" placeholder="all / 1-3,5"/>
          </div>
        </div>

        <div class="flex flex-wrap gap-3">
          <button id="convertBtn" class="bg-pink-600 text-white font-semibold px-5 py-2 rounded-full hover:bg-pink-700 disabled:opacity-50" disabled data-i18n="tool_tojpg.start">Convert</button>
          <button id="clearBtn" class="px-4 py-2 rounded-full border hover:bg-gray-50" data-i18n="common.clear_all">Clear All</button>
        </div>

        <p id="status" class="text-sm text-gray-500"></p>
        <div id="thumbs" class="grid sm:grid-cols-2 md:grid-cols-3 gap-3"></div>
      </div>
    </div>
  </main>

  <script>
    const $ = s=>document.querySelector(s);
    const fileInput = $('#fileInput');
    const chooseBtn = $('#chooseBtn');
    const convertBtn = $('#convertBtn');
    const clearBtn = $('#clearBtn');
    const statusEl = $('#status');
    const thumbs = $('#thumbs');
    let pdfFile = null;

    chooseBtn.addEventListener('click', ()=> fileInput.click());
    fileInput.addEventListener('change', ()=>{ pdfFile = fileInput.files[0] || null; convertBtn.disabled = !pdfFile; });

    clearBtn.addEventListener('click', ()=>{
      pdfFile = null; fileInput.value=''; convertBtn.disabled = true; status(''); thumbs.innerHTML='';
    });

    convertBtn.addEventListener('click', async ()=>{
      status('Converting…');
      await new Promise(r=>setTimeout(r, 700));
      // TODO: 接入真实渲染逻辑；演示生成占位缩略图
      thumbs.innerHTML = '';
      for(let i=1;i<=3;i++){
        const ph = document.createElement('div');
        ph.className = 'aspect-[3/4] bg-gray-100 border rounded flex items-center justify-center text-gray-400';
        ph.textContent = 'JPEG '+i;
        thumbs.appendChild(ph);
      }
      status('Done.');
    });

    function status(t){ statusEl.textContent = t; }
  </script>
</body>
</html>
