<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
  <title>Blog — DocPDFHub</title>
  <meta name="description" content="Tips, guides, and best practices for working with PDFs — merge, split, compress, convert — all 100% local in your browser."/>
  <link rel="stylesheet" href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css"/>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet"/>
  <style>.gradient{background:linear-gradient(90deg,#d53369 0%,#daae51 100%);}</style>

  <!-- i18n（全站同一份） -->
  <script src="/js/i18n.js" defer></script>

  <!-- PWA / SEO -->
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#ec4899">
  <link rel="canonical" href="https://docpdfhub.com/blog/">
  <link rel="alternate" href="https://docpdfhub.com/blog/" hreflang="x-default">
  <link rel="alternate" href="https://docpdfhub.com/blog/" hreflang="en">
  <link rel="alternate" href="https://docpdfhub.com/zh/blog/" hreflang="zh">

  <!-- AdSense（全站 head） -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4284929103244648" crossorigin="anonymous"></script>
  <!-- Google Analytics（全站 head，一次即可） -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3W6M25B9FL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-3W6M25B9FL');
  </script>
</head>

<!-- Ad: index_top_display -->
<section class="max-w-6xl mx-auto px-4 mt-4">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4284929103244648"
       data-ad-slot="7530331224"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
</section>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  
<body class="text-gray-900 bg-gray-50" style="font-family:'Source Sans Pro',sans-serif;">

  <!-- Nav（与工具页一致） -->
  <nav class="fixed w-full z-30 top-0 bg-white shadow">
    <div class="w-full max-w-6xl mx-auto flex items-center justify-between px-4 py-3">
      <a class="text-pink-600 font-extrabold text-2xl" href="/"><span data-i18n="common.brand">DocPDFHub</span></a>
      <div class="hidden md:flex items-center space-x-6 text-sm">
        <a href="/" class="text-gray-700 hover:text-pink-600" data-i18n="nav.home">Home</a>
        <a href="/blog/index.html" class="text-gray-900 font-semibold" data-i18n="nav.blog">Blog</a>
        <a href="/tools/pdf-merge.html" class="text-gray-700 hover:text-pink-600" data-i18n="nav.merge">Merge PDF</a>
        <a href="/tools/pdf-split.html" class="text-gray-700 hover:text-pink-600" data-i18n="nav.split">Split PDF</a>
        <a href="/tools/pdf-compress.html" class="text-gray-700 hover:text-pink-600" data-i18n="nav.compress">Compress PDF</a>
        <a href="/tools/pdf-to-jpg.html" class="text-gray-700 hover:text-pink-600" data-i18n="nav.tojpg">PDF to JPG</a>
        <a href="/tools/docx-to-pdf.html" class="text-gray-700 hover:text-pink-600" data-i18n="nav.topdf">Word to PDF</a>
        <a href="/tools/pdf-to-docx.html" class="text-gray-700 hover:text-pink-600" data-i18n="nav.toword">PDF to Word</a>
        <div class="flex items-center space-x-2">
          <button data-lang-btn="en" class="px-2 py-1 rounded hover:bg-gray-100">EN</button>
          <span class="text-gray-300">|</span>
          <button data-lang-btn="zh" class="px-2 py-1 rounded hover:bg-gray-100">中文</button>
        </div>
      </div>
      <!-- 移动端语言按钮 -->
      <div class="md:hidden flex items-center space-x-2">
        <button data-lang-btn="en" class="px-2 py-1 rounded hover:bg-gray-100">EN</button>
        <button data-lang-btn="zh" class="px-2 py-1 rounded hover:bg-gray-100">中文</button>
      </div>
    </div>
  </nav>
  <div class="pt-20"></div>

  <!-- Hero -->
  <header class="gradient text-white pt-12 pb-10">
    <div class="max-w-6xl mx-auto px-4">
      <p class="uppercase tracking-widest opacity-90 text-sm" data-i18n="home.hero_kicker">PDF TOOLS</p>
      <h1 class="text-4xl md:text-5xl font-extrabold mt-2" data-i18n="blog.title">DocPDFHub Blog</h1>
      <p class="text-white text-opacity-90 mt-2 md:w-3/4" data-i18n="blog.subtitle">
        Practical guides and tips for working with PDFs — private, local-first workflows.
      </p>
    </div>
  </header>

  <!-- List -->
  <main class="max-w-6xl mx-auto px-4 py-10">
    <div id="status" class="mb-6 text-sm text-gray-500"></div>

    <div id="blog-grid" class="grid md:grid-cols-2 gap-6">
      <div class="animate-pulse h-32 bg-white border rounded-xl"></div>
      <div class="animate-pulse h-32 bg-white border rounded-xl"></div>
      <div class="animate-pulse h-32 bg-white border rounded-xl"></div>
      <div class="animate-pulse h-32 bg-white border rounded-xl"></div>
      <div class="animate-pulse h-32 bg-white border rounded-xl"></div>
      <div class="animate-pulse h-32 bg-white border rounded-xl"></div>
    </div>

    <div class="flex items-center justify-center gap-2 mt-8">
      <button id="prevBtn" class="px-3 py-1.5 rounded border hover:bg-gray-50 disabled:opacity-40" disabled>Prev</button>
      <span id="pageIndicator" class="px-3 py-1.5 rounded bg-pink-600 text-white font-semibold">1</span>
      <button id="nextBtn" class="px-3 py-1.5 rounded border hover:bg-gray-50" disabled>Next</button>
    </div>
  </main>
  <!-- Footer -->
  <footer class="bg-white border-t">
    <div class="max-w-6xl mx-auto px-4">
      <div class="w-full flex flex-col md:flex-row py-8 gap-8 text-sm">
        <div class="flex-1">
          <div class="text-pink-600 font-extrabold text-2xl">DocPDFHub</div>
          <p class="text-gray-500 mt-2" data-i18n="footer.tagline">Free & private PDF tools in your browser.</p>
          <p class="text-gray-400 mt-2" data-i18n="common.100_local">100% local in your browser • No upload</p>
        </div>
        <div class="flex-1">
          <p class="uppercase text-gray-500 mb-3" data-i18n="footer.tools">Tools</p>
          <ul class="space-y-2">
            <li><a class="text-gray-700 hover:text-pink-600" href="/tools/pdf-merge.html" data-i18n="nav.merge">Merge PDF</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="/tools/pdf-split.html" data-i18n="nav.split">Split PDF</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="/tools/pdf-compress.html" data-i18n="nav.compress">Compress PDF</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="/tools/pdf-to-jpg.html" data-i18n="nav.tojpg">PDF to JPG</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="/tools/docx-to-pdf.html" data-i18n="nav.topdf">Word to PDF</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="/tools/pdf-to-docx.html" data-i18n="nav.toword">PDF to Word</a></li>
          </ul>
        </div>
        <div class="flex-1">
          <p class="uppercase text-gray-500 mb-3" data-i18n="footer.company">Company</p>
          <ul class="space-y-2">
            <li><a class="text-gray-700 hover:text-pink-600" href="/about.html" data-i18n="footer.about">About Us</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="/blog/index.html" data-i18n="footer.blog">Official Blog</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="mailto:langer.lee@gmail.com" data-i18n="footer.contact">Contact</a></li>
          </ul>
        </div>
        <div class="flex-1">
          <p class="uppercase text-gray-500 mb-3" data-i18n="footer.legal">Legal</p>
          <ul class="space-y-2">
            <li><a class="text-gray-700 hover:text-pink-600" href="/terms.html" data-i18n="footer.terms">Terms</a></li>
            <li><a class="text-gray-700 hover:text-pink-600" href="/privacy.html">Privacy</a></li>
          </ul>
        </div>
      </div>
      <div class="py-4 border-t text-xs text-gray-400">
        © <span id="y"></span> DocPDFHub
      </div>
    </div>
  </footer>

  <!-- 兜底：内联 posts JSON（可移除） -->
  <script id="posts-data" type="application/json">[]</script>

  <script>
  // 年份
  document.getElementById('y').textContent = new Date().getFullYear();

  // i18n 开机
  (function initLang(){
    const lang = localStorage.getItem('lang') || 'en';
    if (window.__i18n__ && typeof window.__i18n__.setLang === 'function') {
      window.__i18n__.setLang(lang);
      document.querySelectorAll('[data-lang-btn]').forEach(btn=>{
        btn.addEventListener('click', ()=> window.__i18n__.setLang(btn.getAttribute('data-lang-btn')));
      });
    } else {
      document.documentElement.setAttribute('lang', lang === 'zh' ? 'zh-CN' : 'en');
      document.querySelectorAll('[data-lang-btn]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const l = btn.getAttribute('data-lang-btn');
          localStorage.setItem('lang', l);
          location.reload();
        });
      });
    }
  })();

  // 博客列表
  (async function(){
    const statusEl = document.getElementById('status');
    const grid = document.getElementById('blog-grid');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pageIndicator = document.getElementById('pageIndicator');

    const PAGE_SIZE = 99;
    let posts = null;
    let page = 1;

    // 优先拉 /blog/index.json
    const tryUrls = ['/blog/index.json', './index.json'];
    for (const u of tryUrls) {
      try {
        const res = await fetch(u, { cache: 'no-store' });
        if (res.ok) { posts = await res.json(); break; }
      } catch (e) {}
    }
    // 兜底：内联
    if (!posts) {
      try {
        const inline = document.getElementById('posts-data');
        if (inline) posts = JSON.parse(inline.textContent || '[]');
      } catch (e) {}
    }
    // 没有就报错
    if (!Array.isArray(posts) || posts.length === 0) {
      statusEl.textContent = 'No posts yet. Create /blog/index.json and HTML files in /blog/.';
      grid.innerHTML = '';
      return;
    }

    // 时间倒序
    posts.sort((a,b)=> new Date(b.date||0) - new Date(a.date||0));

    function escapeHTML(s){ return String(s).replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])); }

    function renderPage(p){
      const total = posts.length;
      const maxPage = Math.max(1, Math.ceil(total / PAGE_SIZE));
      page = Math.min(Math.max(1, p), maxPage);

      const slice = posts.slice((page-1)*PAGE_SIZE, (page-1)*PAGE_SIZE + PAGE_SIZE);
      grid.innerHTML = '';
      slice.forEach(item=>{
        const a = document.createElement('a');
        // 关键：确保链接指向 /blog/slug.html
        const url = item.url || (item.slug ? `/blog/${item.slug}.html` : '#');
        a.href = url;
        a.className = 'block bg-white border rounded-xl p-6 shadow hover:shadow-lg transition';
        a.innerHTML = `
          <h3 class="text-xl font-bold text-gray-900">${escapeHTML(item.title || '(Untitled)')}</h3>
          <p class="text-gray-600 mt-2">${escapeHTML(item.description || '')}</p>
          <div class="mt-3 text-sm text-gray-500">${escapeHTML(item.date || '')}${item.readingMinutes? ' · '+item.readingMinutes+' min':''}</div>
          <div class="mt-4 text-pink-600 font-semibold">Read more →</div>
        `;
        grid.appendChild(a);
      });

      pageIndicator.textContent = String(page);
      prevBtn.disabled = page <= 1;
      nextBtn.disabled = page >= maxPage;
      statusEl.textContent = '';
    }

    prevBtn.addEventListener('click', ()=> renderPage(page - 1));
    nextBtn.addEventListener('click', ()=> renderPage(page + 1));

    renderPage(1);
  })();
  </script>
</body>
</html>
